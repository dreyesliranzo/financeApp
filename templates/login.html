{% extends "base.html" %}
{% block content %}
<div class="min-h-[70vh] grid place-items-center">
  <div class="w-full max-w-md rounded-2xl border border-white/10 bg-slate-900/60 shadow-card p-8 md:p-10">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="space-y-2 mb-4">
          {% for category, message in messages %}
            <div class="rounded-xl px-4 py-3 border border-white/10 bg-slate-900/70 text-sm">{{ message }}</div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}
    <h1 class="text-2xl md:text-3xl font-bold text-white mb-2">Welcome back</h1>
    <p class="text-sm text-text-muted mb-6">Sign in to review your finances.</p>
    <form method="POST" class="space-y-4">
      <div>
        <label class="text-sm font-semibold text-text-muted block mb-1">Username</label>
        <input type="text" class="w-full rounded-xl bg-slate-900/60 border border-white/10 px-4 py-3 text-sm focus:ring-2 focus:ring-primary" name="username" required>
      </div>
      <div>
        <label class="text-sm font-semibold text-text-muted block mb-1">Password</label>
        <input type="password" class="w-full rounded-xl bg-slate-900/60 border border-white/10 px-4 py-3 text-sm focus:ring-2 focus:ring-primary" name="password" required>
      </div>
      <button class="w-full px-4 py-3 rounded-xl bg-primary text-white font-semibold shadow-button hover:brightness-110 active:scale-[0.97] transition">Log In</button>
    </form>
    <div class="flex flex-col items-center gap-2 mt-4 text-sm">
      <div class="flex gap-4">
        <a class="text-primary hover:underline" href="{{ url_for('auth.forgot_password') }}">Forgot password?</a>
        <a class="text-primary hover:underline" href="{{ url_for('auth.forgot_username') }}">Forgot username?</a>
      </div>
      <p class="text-text-muted">No account? <a class="text-primary hover:underline" href="{{ url_for('auth.register') }}">Create one</a></p>
    </div>
  </div>
</div>
{% endblock %}
